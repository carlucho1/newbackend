<div class="container-fluid " style="background-color: rgb(234, 232, 239); height: auto;">
    <div class="row justify-content-center pb-5">
        <div class="col-12 col-md-8 col-lg-6">

            <h1 class="text-center text-dark p-2 mt-4">Edición</h1>

           {{#each data}}
          
             <form action="/autos/update/{{id}}" method="post" enctype="multipart/form-data">

                <div class="form-group my-3">
                    <label for="exampleFormControlFile1">Imagen</label>
                    <input type="file" class="form-control" id="exampleFormControlFile1" name="urlImage">
                    <label for="" class="mt-2">{{urlImage}}</label>
                    <img src="{{urlImage}}" class="mt-2" style="width: 100%;" alt="" id="imagenProbando">
                </div>

                <div class="form-group  my-3">
                    <label for="formGroupExampleInput">Descripción</label>
                    <input type="text" class="form-control" id="formGroupExampleInput" placeholder="Ingrese su nombre" name="descripcion" value="{{descripcion}}">
                </div>

                <div class="form-group my-3">
                    <label for="formGroupExampleInput2">Precio</label>
                    <input type="text" class="form-control" id="formGroupExampleInput2" placeholder="Ingrese el detalle de la Obra" name="precio"  value="{{precio}}">
                </div>

                <div class="d-grid gap-2 col-6 mx-auto">
                    <button type="submit" class="btn btn-secondary btn-block mt-5">Update</button>

                    <a href="/autos/listado" class="btn btn-secondary btn-block mt-4 mb-4">Retornar</a>
                </div>

            </form>   

            {{/each}}  

        </div>
    </div>
</div>

<script>
    let archivo = document.getElementById("exampleFormControlFile1");
    let imagen = document.getElementById("imagenProbando");

    let file;

    archivo.addEventListener("change",function(){

        file = archivo.files[0];

        if(file){

            const fileReader = new FileReader();

            fileReader.addEventListener("load",function(){
                imagen.setAttribute("src",fileReader.result);
            })

            fileReader.readAsDataURL(file);
        }    

    })

</script>
